### Better Auth API Test File
### Use this file to test the Better Auth endpoints

### Variables
@baseUrl = http://localhost:3333
@email = test@example.com
@password = senha123
@name = Jo√£o Silva

### 1. Register a new user
POST {{baseUrl}}/better-auth/sign-up
Content-Type: application/json

{
  "name": "{{name}}",
  "email": "{{email}}",
  "password": "{{password}}"
}

###

### 2. Sign in with email and password
POST {{baseUrl}}/better-auth/sign-in
Content-Type: application/json

{
  "email": "{{email}}",
  "password": "{{password}}"
}

###

### 3. Check if email exists
POST {{baseUrl}}/better-auth/check-email
Content-Type: application/json

{
  "email": "{{email}}"
}

###

### 4. Get user profile (protected route example)
GET {{baseUrl}}/profile

###

### 5. Test Better Auth API endpoints (original Better Auth handler)
POST {{baseUrl}}/api/auth/sign-up
Content-Type: application/json

{
  "name": "{{name}}",
  "email": "test2@example.com",
  "password": "{{password}}"
}

###

### 6. Test Better Auth sign-in
POST {{baseUrl}}/api/auth/sign-in
Content-Type: application/json

{
  "email": "test2@example.com",
  "password": "{{password}}"
}

###

### 7. Get current session (Better Auth)
GET {{baseUrl}}/api/auth/session

###

### 9. Test with existing authentication system (JWT)
POST {{baseUrl}}/sessions
Content-Type: application/json

{
  "email": "{{email}}",
  "password": "{{password}}"
}

###

### 10. Test fetch accounts with Better Auth (should work after sign-in)
GET {{baseUrl}}/accounts

###

### 11. Test create account with Better Auth
POST {{baseUrl}}/accounts
Content-Type: application/json

{
  "name": "Conta Teste Better Auth",
  "budgetId": "budget-id-here"
}
